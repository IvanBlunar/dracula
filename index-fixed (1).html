<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Drácula — Escenas con transiciones suaves</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Utilidades base */
    .vignette::after { content:""; position:absolute; inset:0; pointer-events:none; box-shadow: inset 0 0 160px rgba(0,0,0,.8); }
    .willchange-transform { will-change: transform; }
    .nav-item.is-active .off { opacity: 0 !important; }
    .nav-item.is-active .on  { opacity: 1 !important; }

    html, body{
      width:100%;
      max-width:100%;
      overflow-x:hidden;          /* corta desbordes laterales */
      overscroll-behavior-x:none; /* sin arrastre lateral */
      touch-action:pan-y;         /* solo scroll vertical */
      position:relative;
      background:#000;            /* fondo continuo por seguridad */
    }

    /* Secciones principales: aseguran continuidad (evita micro-gaps por redondeo) */
    #castillo, #podio, #libro, #podio-2{ position:relative; margin-top:-1px; overflow:visible; }

    /* ====== SEAMS / PUENTES SUAVES ENTRE SECCIONES ====== */
    :root{
      --seam-top: 18svh;   /* castillo -> podio (arriba del podio) */
      --seam-bottom: 26svh;/* podio -> libro (abajo del podio) */
    }

    /* CASTILLO -> PODIO: oscurece la entrada del podio */
    #podio::before{
      content:"";
      position:absolute; left:0; right:0; top:-1px;
      height:var(--seam-top);
      pointer-events:none; z-index:40;
      background:linear-gradient(to top,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.55) 66%,
        rgba(0,0,0,.92) 100%);
    }

    /* PODIO -> LIBRO: alarga y eleva el fade existente (usa un overlay dentro del podio) */
    #podio .podio-fade{
      position:absolute; left:0; right:0; bottom:-1px;
      height:var(--seam-bottom);
      pointer-events:none; z-index:50; /* por encima del fondo del LIBRO */
      background:linear-gradient(to bottom,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.55) 60%,
        rgba(0,0,0,.95) 100%);
    }

    /* LIBRO -> PODIO DE ABAJO: suaviza la base del libro */
    #libro::after{
      content:"";
      position:absolute; left:0; right:0; bottom:-1px;
      height:clamp(18svh, 24svh, 30svh);
      pointer-events:none; z-index:5;
      background:linear-gradient(to bottom,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.55) 65%,
        #000 100%);
    }

    /* Asegura que los fondos queden detrás de los fades */
    #podio .podio-bg,
    #libro .libro-bg{ z-index:-30; }

    @media (max-width:640px){
      :root{ --seam-top:22svh; --seam-bottom:32svh; }
    }
    @media (min-width:1024px){
      :root{ --seam-top:16svh; --seam-bottom:22svh; }
    }
  </style>
</head>
<body class="bg-black text-white overflow-x-hidden antialiased">

  <!-- ===== Header (opcional) ===== -->
  <header class="fixed inset-x-0 top-0 z-[100] pointer-events-none">
    <!-- deja tu nav aquí si lo necesitas -->
  </header>

  <!-- ===== CASTILLO ===== -->
  <section id="castillo" class="relative z-10 overflow-visible">
    <div class="relative w-full min-h-[120svh]">
      <!-- Corte de nubes superior (si lo usas) -->
      <div class="absolute -top-[8rem] sm:-top-[10rem] md:-top-[14rem] left-0 right-0 w-full z-[30] pointer-events-none">
        <img src="assets/Corte Nubes.webp" alt="Corte Nubes" class="w-full h-auto object-cover select-none pointer-events-none" />
      </div>

      <!-- Fondo cielo castillo -->
      <img src="assets/Background Cielo Castillo.webp" alt="Castillo fondo"
           class="absolute inset-0 w-full h-full object-cover pointer-events-none select-none -z-10" />

      <!-- Contenido del castillo (coloca aquí tus layers reales) -->
      <div class="relative mx-auto w-[92%] max-w-[1200px] pt-36 pb-40">
        <h1 class="text-3xl md:text-5xl font-bold opacity-80">Escena: Castillo</h1>
        <p class="opacity-80 mt-4 max-w-prose">Coloca aquí tus capas del castillo (murallas, torres, árboles, nubes).</p>
      </div>
    </div>
  </section>

  <!-- ===== PODIO (ARRIBA) ===== -->
  <section id="podio" class="relative z-20 overflow-visible">
    <div class="relative w-full min-h-[120svh]">
      <!-- Fondo podio -->
      <img src="assets/Background Podio.webp" alt="Fondo Podio" class="podio-bg absolute inset-0 w-full h-full object-cover pointer-events-none select-none" />

      <!-- Tu imagen/capas del podio (ejemplos) -->
      <img src="assets/(02) Podio Muy cerca.webp" alt="Podio muy cerca"
           class="absolute left-1/2 -translate-x-1/2 
                  top-[34svh] sm:top-[38svh] md:top-[42vh] max-[639px]:top-[48svh]
                  w-[120vw] sm:w-[92vw] md:w-[90vw] max-w-[1200px]
                  pointer-events-none select-none z-[12] willchange-transform"
           style="transform-origin:center top;" />

      <!-- Overlay para difuminar hacia el LIBRO -->
      <div class="podio-fade"></div>
    </div>
  </section>

  <!-- ===== LIBRO ===== -->
  <section id="libro" class="relative z-[9] overflow-visible">
    <div class="relative w-full min-h-[160svh] md:min-h-[180vh]" style="perspective:1000px;">
      <!-- Fade superior para transición suave (opcional) -->
      <div class="pointer-events-none absolute inset-x-0 top-0 h-[10svh] z-10"
           style="background: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 100%);"></div>

      <!-- Fondo del libro -->
      <img src="assets/Background Libro.webp" alt="Fondo Libro"
           class="libro-bg absolute inset-0 -z-20 w-full h-full object-cover pointer-events-none select-none" />

      <!-- Ramas (si las usas) -->
      <img src="assets/Rama Arbol Verde Alejandose.webp" alt="Rama verde alejándose"
           class="libro-rama-verde absolute left-1/2 -translate-x-1/2 top-[22%]
                  w-[150vw] sm:w-[130vw] md:w-[120vw]
                  pointer-events-none select-none z-[18] willchange-transform" />

      <img src="assets/Rama Arbol Morado Alejandose.webp" alt="Rama morada alejándose"
           class="libro-rama-morada absolute left-1/2 -translate-x-1/2 top-[25%]
                  w-[150vw] sm:w-[130vw] md:w-[120vw]
                  pointer-events-none select-none z-[17] willchange-transform" />

      <!-- Contenedor del libro (sustituye por tu libro real) -->
      <div class="absolute left-1/2 -translate-x-1/2 top-[28svh] sm:top-[24svh] md:top-[26svh] w-[92%] max-w-[1200px] z-[20]">
        <div class="mx-auto w-full max-w-[1100px] aspect-[2/1] bg-black/40 border-2 border-white/10 rounded-2xl backdrop-blur-sm grid place-items-center">
          <p class="opacity-80 px-6 text-center">Aquí va tu libro abierto con las páginas, stamps de reinos y animaciones. Este contenedor es de ejemplo.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== PODIO (ABAJO) — déjalo con tu contenido original ===== -->
  <section id="podio-2" class="relative z-20 overflow-visible">
    <div class="relative w-full min-h-[120svh]">
      <!-- Fondo podio abajo -->
      <img src="assets/Background Podio Abajo.webp" alt="Fondo Podio Abajo"
           class="podio-bg absolute inset-0 w-full h-full object-cover pointer-events-none select-none" />

      <!-- Elementos propios del podio de abajo -->
      <div class="relative mx-auto w-[92%] max-w-[1200px] pt-36 pb-40">
        <h2 class="text-2xl md:text-4xl font-semibold opacity-80">Escena: Podio inferior</h2>
        <p class="opacity-80 mt-4 max-w-prose">Deja aquí tus layers exactos. Las transiciones ya se encargarán de fundir el final del libro con este podio.</p>
      </div>
    </div>
  </section>

  <!-- Relleno final para probar el scroll -->
  <footer class="py-24 text-center opacity-60">
    <p>Fin de la demo. Ajusta porcentajes/alturas de los fades a tu gusto.</p>
  </footer>
</body>
</html>
